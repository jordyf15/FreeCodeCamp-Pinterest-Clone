{"version":3,"sources":["hooks/useQuery.js","header/Header.js","utils/baseUrl.js","service/pin.js","pinForm/PinForm.js","components/Pin.js","components/Loading.js","home/Home.js","myPin/MyPin.js","profile/Profile.js","service/login.js","userPin/UserPin.js","App.js","index.js"],"names":["useQuery","URLSearchParams","useLocation","search","Container","styled","header","Icon","i","Image","img","currentProfile","border","currentPage","color","backgroundColor","HeaderLinks","span","LeftHeader","div","RightHeader","Header","user","handleLogout","toggleForm","page","setPage","setShowForm","linkClick","to","onClick","className","aria-hidden","style","src","avatarUrl","width","height","alt","userName","window","open","baseUrl","postPin","pinUrl","pinDesc","date","posterId","a","axios","post","data","getAllPin","get","getMyPin","id","pins","likePin","likerId","pinId","deletePin","ownerId","delete","FormContainer","Form","form","Input","input","Button","button","PinForm","handlePostPin","useState","setPinUrl","setPinDesc","submitPin","e","preventDefault","Date","_id","newPin","onSubmit","type","placeholder","value","onChange","target","PinContainer","PinDescContainer","p","PinImage","PinButtonContainer","Pin","handleLikePin","setUser","pin","likers","owner","handleLike","likedPin","handleDelete","deleteRes","onError","onerror","disabled","length","OuterLoading","InnerLoading1","InnerLoading2","InnerLoading3","InnerLoading4","H2","h2","Loading","breakpointColumnsObj","default","1000","900","600","400","Home","setPins","hasFetchPins","setHasFetchPins","useEffect","then","res","breakpointCols","columnClassName","map","MyPin","push","useHistory","AvatarImg","H1","h1","UserDetail","PinsDetail","Profile","fetchUserPin","setFetchUserPin","bio","likes","reduce","total","getUserDetail","code","UserPin","useParams","App","showForm","query","history","concat","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8305f8a6.chunk.js","sourcesContent":["import {useLocation} from 'react-router-dom';\r\n\r\nconst useQuery=()=>{\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default useQuery;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nconst Container=styled.header`\r\ndisplay: flex;\r\nflex-direction: row;\r\nposition: sticky;\r\ntop: 0px;\r\nbackground-color: white;\r\nbox-shadow: 0px 2px 17px -13px black;\r\npadding: 10px 0px;\r\n`;\r\n\r\nconst Icon=styled.i`\r\ncolor: #e60023;\r\npadding: 8px;\r\nfont-size: 20px;\r\nborder-radius: 30px;\r\n`;\r\n\r\nconst Image=styled.img`\r\n    border-radius: 50%;\r\n    position: relative;\r\n    top: 7px;\r\n    :hover{\r\n        box-shadow: 0px 0px 0px 6px #efefef;\r\n    }\r\n`;\r\n\r\nconst currentProfile={\r\n    border: '2px solid black'\r\n}\r\n\r\nconst currentPage={\r\n    color: 'white',\r\n    backgroundColor: 'black' \r\n};\r\n\r\nconst HeaderLinks=styled.span`\r\ndisplay:inline-block;\r\npadding: 10px;\r\nborder-radius: 30px;\r\ncolor: black;\r\ntext-decoration: none;\r\nfont-weight: bold;\r\nfont-size: 13px;\r\n\r\n:hover{\r\n    background-color: #efefef;\r\n}\r\n`;\r\n\r\nconst LeftHeader=styled.div`\r\nwidth: 50%;\r\ntext-align: left;\r\n`;\r\n\r\nconst RightHeader=styled.div`\r\nwidth: 50%;\r\ntext-align:right;\r\n`;\r\n\r\nconst Header=({user,handleLogout,toggleForm,page,setPage,setShowForm})=>{\r\n    const login=()=>{\r\n        window.open('http://localhost:3001/api/login/getauthcode','_self');\r\n      }\r\n\r\n      const linkClick=(page)=>{\r\n          setPage(page);\r\n          setShowForm(false);\r\n      }\r\n\r\n    return(\r\n        <Container>\r\n            <LeftHeader>\r\n            <Link to='/' onClick={()=>linkClick('home')}><Icon className=\"fa fa-pinterest\" aria-hidden=\"true\"></Icon></Link>\r\n            <Link to='/' onClick={()=>linkClick('home')}>\r\n                <HeaderLinks style={page==='home'?currentPage:null}>Home</HeaderLinks>\r\n            </Link>\r\n            {user\r\n            ?<>\r\n                <Link to='/mypin' onClick={()=>linkClick('mypin')}>\r\n                    <HeaderLinks style={page==='mypin'?currentPage:null}>My Pins</HeaderLinks>\r\n                </Link>\r\n                <HeaderLinks onClick={toggleForm}>Add a Pin</HeaderLinks>    \r\n            </>\r\n            :null}\r\n            </LeftHeader>\r\n            <RightHeader>\r\n              {user\r\n              ?<>\r\n              <Link to='/profile' onClick={()=>linkClick('profile')}>\r\n                    <Image style={page==='profile'?currentProfile:null} src={user.avatarUrl} width='20' height='20' alt={user.userName}/>                    \r\n                </Link>\r\n                <HeaderLinks onClick={handleLogout}>logout</HeaderLinks>\r\n              </>\r\n              :<HeaderLinks onClick={login}>login</HeaderLinks>\r\n              }\r\n            </RightHeader>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Header;","const baseUrl='http://localhost:3001';\r\nexport default baseUrl;","import axios from 'axios';\r\nimport baseUrl from '../utils/baseUrl';\r\n\r\nexport const postPin=async(pinUrl,pinDesc,date,posterId)=>{\r\n   const {data}=await axios.post(`${baseUrl}/api/pin`,{pinUrl,pinDesc,date,posterId});\r\n   return data;\r\n}\r\n\r\nexport const getAllPin=async()=>{\r\n   const{data}=await axios.get(`${baseUrl}/api/pin`);\r\n   return data;\r\n}\r\n\r\nexport const getMyPin=async(id)=>{\r\n   const {data}=await axios.get(`${baseUrl}/api/pin/${id}`);\r\n   return data.pins;\r\n}\r\n\r\nexport const likePin=async(likerId,pinId)=>{\r\n   const {data}=await axios.post(`${baseUrl}/api/pin/likepin/${pinId}`,{likerId});\r\n   return data;\r\n}\r\n\r\nexport const deletePin=async(ownerId,pinId)=>{\r\n   const {data}=await axios.delete(`${baseUrl}/api/pin`,{data:{ownerId,pinId}});\r\n   return data;\r\n}","import React,{useState} from 'react';\r\nimport {postPin} from '../service/pin';\r\nimport styled from 'styled-components';\r\n\r\nconst FormContainer = styled.div`\r\n    background-color: #efefef;\r\n    position: fixed;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    `;\r\n\r\nconst Form=styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n    background-color: white;\r\n    margin-top: 0px;\r\n    align-items: center;\r\n    width: 25%;\r\n    height: 40%;\r\n    border-radius: 20px;\r\n    @media (max-width: 768px) {\r\n        width: 90%;\r\n      }\r\n`;\r\nconst Input=styled.input`\r\n    width: 80%;\r\n    border:none;\r\n    border-bottom: 2px solid #c6c6c6;\r\n`;\r\nconst Button=styled.button`\r\n    width: 80%;\r\n    background-color: #e60023;\r\n    border:none;\r\n    border-radius: 5px;\r\n    color: white;\r\n    font-weight: bold;\r\n    font-family: Helvetica;\r\n    padding: 10px 0px;\r\n`;\r\n\r\nconst PinForm=({user,handlePostPin,setShowForm})=>{\r\n    const [pinUrl,setPinUrl]=useState('');\r\n    const [pinDesc,setPinDesc]=useState('');\r\n\r\n    const submitPin=async(e)=>{\r\n        e.preventDefault();\r\n        setPinUrl('');\r\n        setPinDesc('');\r\n        setShowForm(false);\r\n        const newPin=await postPin(pinUrl,pinDesc,new Date(),user._id);\r\n        handlePostPin(newPin)\r\n    }\r\n\r\n    return(\r\n        <FormContainer>\r\n            <Form onSubmit={submitPin}>\r\n                <Button type='submit'>Save</Button>\r\n                <Input placeholder='Pin Url...' value={pinUrl} onChange={({target})=>setPinUrl(target.value)} />\r\n                <Input placeholder='Pin Description' value={pinDesc} onChange={({target})=>setPinDesc(target.value)}/>\r\n            </Form> \r\n        </FormContainer>\r\n    )\r\n};\r\n\r\nexport default PinForm","import React from 'react';\r\nimport {likePin,deletePin} from '../service/pin';\r\nimport styled from 'styled-components';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst PinContainer=styled.div`\r\n    border-radius: 20px;\r\n    background-color: #efefef;\r\n    width: 187px;\r\n    margin-top: 20px;\r\n    text-align: center;\r\n    padding-bottom: 1px;\r\n    box-shadow: 0px 2px 17px -13px black;\r\n    -webkit-animation: fadein 1s; \r\n    -moz-animation: fadein 1s; \r\n     -ms-animation: fadein 1s; \r\n      -o-animation: fadein 1s; \r\n         animation: fadein 1s;\r\n         @keyframes fadein {\r\n            from { opacity: 0; }\r\n            to   { opacity: 1; }\r\n        }\r\n        @-moz-keyframes fadein {\r\n            from { opacity: 0; }\r\n            to   { opacity: 1; }\r\n        }\r\n        @-webkit-keyframes fadein {\r\n            from { opacity: 0; }\r\n            to   { opacity: 1; }\r\n        }\r\n        @-ms-keyframes fadein {\r\n            from { opacity: 0; }\r\n            to   { opacity: 1; }\r\n        }\r\n        @-o-keyframes fadein {\r\n            from { opacity: 0; }\r\n            to   { opacity: 1; }\r\n        }\r\n`;\r\n\r\nconst Icon=styled.i`\r\n    font-size: 10px;\r\n`;\r\n\r\nconst PinDescContainer=styled.p`\r\n    background-color: white;\r\n    text-align: center;\r\n    font-size: 13px;\r\n    margin: 0px 3px;\r\n`;\r\n\r\nconst PinImage=styled.img`\r\n    margin-top: 3px;\r\n    border-top-left-radius: 20px;\r\n    border-top-right-radius: 20px;\r\n`;\r\n\r\nconst PinButtonContainer=styled.div`\r\n    background-color: white;\r\n    border-bottom-left-radius: 20px;\r\n    border-bottom-right-radius: 20px;\r\n    margin: 3px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    padding: 4px 0px;\r\n`;\r\n\r\nconst Pin=({user,page,handleLikePin,setUser,pin})=>{\r\n    const pinId=pin._id;\r\n    const {likers,pinUrl,pinDesc,owner}=pin;\r\n    const handleLike=async()=>{\r\n        const likedPin=await likePin(user._id,pinId);\r\n        handleLikePin(likedPin);\r\n    }\r\n\r\n    const handleDelete=async()=>{\r\n        const deleteRes=await deletePin(user._id,pinId);\r\n        setUser(deleteRes);\r\n    }\r\n    \r\n    return(\r\n        <PinContainer>\r\n            <PinImage onError={({target})=>{target.onerror=null;target.src='https://cdn.freecodecamp.org/demo-projects/images/placeholder.png'}} src={pinUrl} width='180' alt={pinDesc} />\r\n            <PinDescContainer>{pinDesc}</PinDescContainer>\r\n\r\n            <PinButtonContainer>\r\n               <Link to={`/pin/${owner._id}`}><img src={owner.avatarUrl} width='25' height='25' alt={owner.userName}/></Link>\r\n                \r\n                {page==='mypin'?<button onClick={handleDelete}><Icon className=\"fas fa-times\"></Icon></button>:null}\r\n                <button onClick={handleLike} disabled={user?false:true}><Icon className=\"fas fa-star\"></Icon> {likers.length}</button>\r\n            </PinButtonContainer>\r\n        </PinContainer>\r\n    )\r\n};\r\n\r\nexport default Pin;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst OuterLoading=styled.div`\r\n    border-radius: 50%;\r\n    width: 30px;\r\n    height: 30px;\r\n    background-color: #767676;\r\n    position: relative;\r\n    margin: 40px auto;\r\n    animation: rotate 1s linear infinite;\r\n    -webkit-animation: rotate 1s linear infinite;\r\n    -moz-animation: rotate 1s linear infinite;\r\n    @keyframes rotate {100% {transform: rotate(360deg)}}\r\n    @-webkit-keyframes rotate {100% {-webkit-transform: rotate(360deg)}}\r\n    @-moz-keyframes rotate {100% {-moz-transform: rotate(360deg)}}\r\n`;\r\nconst InnerLoading1 = styled.div`\r\n    display: inline-block;\r\n    background-color: #ffffff;\r\n    width: 5px;\r\n    height: 5px;\r\n    border-radius: 50%;\r\n    position: absolute;\r\n    top: 7px;\r\n    left: 12.5px;\r\n    right: 12.5px;\r\n`;\r\nconst InnerLoading2 = styled.div`\r\n    display: inline-block;\r\n    background-color: #ffffff;\r\n    width: 5px;\r\n    height: 5px;\r\n    border-radius: 50%;\r\n    position: absolute;\r\n    top: 18px;\r\n    left: 12.5px;\r\n    right: 12.5px;\r\n`;\r\nconst InnerLoading3 = styled.div`\r\n    display: inline-block;\r\n    background-color: #ffffff;\r\n    width: 5px;\r\n    height: 5px;\r\n    border-radius: 50%;\r\n    position: absolute;\r\n    top: 12.5px;\r\n    bottom: 12.5px;\r\n    left: 7px;\r\n`;\r\n\r\nconst InnerLoading4 = styled.div`\r\n    display: inline-block;\r\n    background-color: #ffffff;\r\n    width: 5px;\r\n    border-radius: 50%;\r\n    position: absolute;\r\n    top: 12.5px;\r\n    bottom: 12.5px;\r\n    left: 18px;\r\n    height: 5px;\r\n`;\r\nconst H2=styled.h2`\r\n    text-align: center;\r\n`;\r\n\r\nconst Loading=()=>{\r\n    return(\r\n        <>\r\n        <OuterLoading>\r\n            <InnerLoading1/>\r\n            <InnerLoading2/>\r\n            <InnerLoading3/>\r\n            <InnerLoading4/>\r\n        </OuterLoading>\r\n        <H2>Fetching the data please wait</H2>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Loading;","import React,{useEffect,useState} from 'react';\r\nimport {getAllPin} from '../service/pin';\r\nimport Pin from '../components/Pin';\r\nimport Masonry from 'react-masonry-css';\r\nimport Loading from '../components/Loading';\r\n\r\nconst breakpointColumnsObj = {\r\n    default: 5,\r\n    1000: 4,\r\n    900: 3,\r\n    600: 2,\r\n    400: 1\r\n  };\r\n\r\nconst Home=({pins,setPins,user,handleLikePin})=>{\r\n    const [hasFetchPins,setHasFetchPins]=useState(false);\r\n\r\n    useEffect(()=>{\r\n      getAllPin()\r\n      .then((res)=>{\r\n          setPins(res);\r\n          setHasFetchPins(true);\r\n      })\r\n    },[setPins])\r\n    if(!pins || !hasFetchPins)return <Loading/>;\r\n    return(\r\n        <Masonry \r\n            breakpointCols={breakpointColumnsObj}\r\n            className='my-masonry-grid'\r\n            columnClassName='my-masonry-grid_column'\r\n        >\r\n            {pins.map(p=><Pin page='home' handleLikePin={handleLikePin} key={p._id}\r\n             user={user} pin={p}/>)}\r\n        </Masonry>\r\n    )\r\n}\r\n\r\nexport default Home;","import React,{useEffect,useState} from 'react';\r\nimport {getMyPin} from '../service/pin';\r\nimport Pin from '../components/Pin';\r\nimport {useHistory} from 'react-router-dom';\r\nimport Masonry from 'react-masonry-css';\r\nimport Loading from '../components/Loading';\r\n\r\nconst breakpointColumnsObj = {\r\n    default: 5,\r\n    1000: 4,\r\n    900: 3,\r\n    600: 2,\r\n    400: 1\r\n  };\r\n\r\nconst MyPin=({pins,setPins,user,handleLikePin,setUser})=>{\r\n    const {push}=useHistory();\r\n    const [hasFetchPins,setHasFetchPins]=useState(false);\r\n\r\n    useEffect(()=>{\r\n       \r\n    if(user){\r\n       getMyPin(user._id)\r\n        .then((res)=>{\r\n            setPins(res);\r\n            setHasFetchPins(true);\r\n        })\r\n    }else{\r\n        push('/')\r\n    }\r\n    },[setPins,user,push])\r\n\r\n    if(!pins || !hasFetchPins)return <Loading/>;\r\n\r\n    return(\r\n        <Masonry \r\n        breakpointCols={breakpointColumnsObj}\r\n        className='my-masonry-grid'\r\n        columnClassName='my-masonry-grid_column'>\r\n            {pins.map(p=><Pin setUser={setUser} page='mypin' handleLikePin={handleLikePin} \r\n            key={p._id} pin={p} user={user}/>)}\r\n        </Masonry>\r\n    )\r\n}\r\n\r\nexport default MyPin;","import React,{useEffect,useState} from 'react';\r\nimport {getMyPin} from '../service/pin';\r\nimport{useHistory} from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Loading from '../components/Loading';\r\n\r\nconst Container=styled.div`\r\n    text-align: center;\r\n    margin-top: 20px;\r\n`;\r\n\r\nconst AvatarImg=styled.img`\r\n    border-radius: 50%;\r\n`;\r\n\r\nconst H1=styled.h1`\r\n    margin: 10px 0px;\r\n`;\r\n\r\nconst UserDetail=styled.p`\r\n    width: 50vw;\r\n    margin: 10px auto;\r\n    font-size: 14px;\r\n    color: #535353;\r\n`;\r\n\r\nconst PinsDetail=styled.span`\r\n    font-weight: bold;\r\n`;\r\n\r\nconst Profile=({user,setPins,pins})=>{\r\n    const {push}=useHistory();\r\n    const [fetchUserPin,setFetchUserPin]=useState(false);\r\n\r\n    useEffect(()=>{\r\n        if(user)\r\n        {getMyPin(user._id)\r\n        .then((res)=>{\r\n            setPins(res);\r\n            setFetchUserPin(true);\r\n        })}\r\n        else{\r\n            push('/')\r\n        }\r\n    },[setPins,user,push])\r\n    if(!user)return null;\r\n\r\n    const{avatarUrl,userName,bio}=user;\r\n\r\n    if(!fetchUserPin) return <Loading/>;\r\n    const likes=pins.reduce((total,pin)=>total+pin.likers.length,0);\r\n    return(\r\n        <Container>\r\n            <AvatarImg src={avatarUrl} width='150' height='150' alt={`${userName}'s avatar`}/>\r\n            <H1>{userName}</H1>\r\n            <UserDetail>@{userName} - {bio}</UserDetail>\r\n         \r\n            <PinsDetail>{pins.length} pins - {likes} likes</PinsDetail>\r\n\r\n\r\n        </Container>\r\n    )\r\n};\r\n\r\nexport default Profile;","import axios from 'axios';\r\nimport baseUrl from '../utils/baseUrl';\r\n\r\nexport const getUserDetail=async(code)=>{\r\n    const {data}=await axios.post(`${baseUrl}/api/login/getuser`,{code})\r\n    if(data)return data;\r\n    return null;\r\n}","import React,{useEffect,useState} from 'react';\r\nimport {useParams,useHistory} from 'react-router-dom';\r\nimport Pin from '../components/Pin';\r\nimport Masonry from 'react-masonry-css';\r\nimport {getMyPin} from '../service/pin';\r\nimport Loading from '../components/Loading';\r\n\r\nconst breakpointColumnsObj = {\r\n    default: 5,\r\n    1000: 4,\r\n    900: 3,\r\n    600: 2,\r\n    400: 1\r\n  };\r\n\r\nconst UserPin=({pins,setPins,user,handleLikePin})=>{\r\n    const {id}=useParams();\r\n    const {push}=useHistory();\r\n    const [hasFetchPins,setHasFetchPins]=useState(false);\r\n\r\n    useEffect(()=>{\r\n        getMyPin(id)\r\n        .then((res)=>{\r\n            setPins(res);\r\n            setHasFetchPins(true);\r\n        })\r\n    },[id,setPins,push]);\r\n\r\n    if(!pins || !hasFetchPins)return <Loading/>;\r\n\r\n    return(\r\n        <Masonry\r\n            breakpointCols={breakpointColumnsObj}\r\n            className='my-masonry-grid'\r\n            columnClassName='my-masonry-grid_column'\r\n        >\r\n          {pins.map(p=><Pin page='userpin' handleLikePin={handleLikePin} key={p._id}\r\n             user={user} pin={p}/>)}\r\n        </Masonry>\r\n    )\r\n}\r\n\r\nexport default UserPin;","import React, { useEffect, useState } from 'react';\nimport useQuery from './hooks/useQuery';\nimport {useHistory,Route,Switch} from 'react-router-dom';\nimport Header from './header/Header';\nimport PinForm from './pinForm/PinForm';\nimport Home from './home/Home';\nimport MyPin from './myPin/MyPin';\nimport Profile from './profile/Profile';\nimport {getUserDetail} from './service/login';\nimport UserPin from './userPin/UserPin';\n\nconst App=()=>{\n  const [user,setUser]=useState(null);\n  const [pins,setPins]=useState(null);\n  const [page,setPage]=useState('home');\n  const [showForm,setShowForm]=useState(false);\n  const query=useQuery();\n  const history=useHistory();\n\n  const toggleForm=()=>{\n    setShowForm(!showForm);\n  }\n\n  useEffect(()=>{\n    getUserDetail(query.get('code'))\n    .then((res)=>{\n      setUser(res);\n      setShowForm(false);\n    })\n    history.push('/');\n    // eslint-disable-next-line \n  },[]);\n\n  const handleLogout=()=>{\n    history.push('/');\n    setUser(null);\n    setPage('home')\n    if(showForm) toggleForm();\n  }\n\n  const handlePostPin=(newPin)=>{\n    setPins(pins.concat(newPin));\n  }\n\n  const handleLikePin=(likedPin)=>{\n    setPins(pins.map(p=>{\n      if(p._id===likedPin._id){\n        return likedPin;\n      }else{\n        return p;\n      }\n    }))\n  }\n\n  return(  \n      <>\n        <Header setShowForm={setShowForm} page={page} setPage={setPage} toggleForm={toggleForm} handleLogout={handleLogout} user={user}/>\n        {showForm?<PinForm setShowForm={setShowForm} handlePostPin={handlePostPin} user={user} setPins={setPins} pins={pins}/>:null}\n        <Switch>\n          <Route path='/profile'>\n            <Profile user={user} setPins={setPins} pins={pins}/>\n          </Route>\n          <Route path='/pin/:id'>\n            <UserPin pins={pins} setPins={setPins} user={user} handleLikePin={handleLikePin} />\n          </Route>\n          <Route path='/mypin'>\n            <MyPin setUser={setUser} pins={pins} setPins={setPins} user={user} handleLikePin={handleLikePin}/>\n          </Route>\n          <Route path='/'>\n            <Home pins={pins} setPins={setPins} user={user} handleLikePin={handleLikePin}/>\n          </Route>\n        </Switch>\n      </>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\nReactDOM.render(<Router><App /></Router>,document.getElementById('root'));\n"],"sourceRoot":""}