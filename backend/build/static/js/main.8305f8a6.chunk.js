(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{43:function(n,t,e){},67:function(n,t,e){"use strict";e.r(t);var r=e(1),a=e(0),i=e(34),c=e.n(i),o=(e(43),e(7)),u=e(5),s=function(){return new URLSearchParams(Object(u.g)().search)},p=e(2),f=e(8),d=e(3);function l(){var n=Object(p.a)(["\nwidth: 50%;\ntext-align:right;\n"]);return l=function(){return n},n}function b(){var n=Object(p.a)(["\nwidth: 50%;\ntext-align: left;\n"]);return b=function(){return n},n}function j(){var n=Object(p.a)(["\ndisplay:inline-block;\npadding: 10px;\nborder-radius: 30px;\ncolor: black;\ntext-decoration: none;\nfont-weight: bold;\nfont-size: 13px;\n\n:hover{\n    background-color: #efefef;\n}\n"]);return j=function(){return n},n}function h(){var n=Object(p.a)(["\n    border-radius: 50%;\n    position: relative;\n    top: 7px;\n    :hover{\n        box-shadow: 0px 0px 0px 6px #efefef;\n    }\n"]);return h=function(){return n},n}function x(){var n=Object(p.a)(["\ncolor: #e60023;\npadding: 8px;\nfont-size: 20px;\nborder-radius: 30px;\n"]);return x=function(){return n},n}function m(){var n=Object(p.a)(["\ndisplay: flex;\nflex-direction: row;\nposition: sticky;\ntop: 0px;\nbackground-color: white;\nbox-shadow: 0px 2px 17px -13px black;\npadding: 10px 0px;\n"]);return m=function(){return n},n}var O=d.a.header(m()),g=d.a.i(x()),v=d.a.img(h()),k={border:"2px solid black"},w={color:"white",backgroundColor:"black"},y=d.a.span(j()),P=d.a.div(b()),C=d.a.div(l()),S=function(n){var t=n.user,e=n.handleLogout,a=n.toggleForm,i=n.page,c=n.setPage,o=n.setShowForm,u=function(n){c(n),o(!1)};return Object(r.jsxs)(O,{children:[Object(r.jsxs)(P,{children:[Object(r.jsx)(f.b,{to:"/",onClick:function(){return u("home")},children:Object(r.jsx)(g,{className:"fa fa-pinterest","aria-hidden":"true"})}),Object(r.jsx)(f.b,{to:"/",onClick:function(){return u("home")},children:Object(r.jsx)(y,{style:"home"===i?w:null,children:"Home"})}),t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(f.b,{to:"/mypin",onClick:function(){return u("mypin")},children:Object(r.jsx)(y,{style:"mypin"===i?w:null,children:"My Pins"})}),Object(r.jsx)(y,{onClick:a,children:"Add a Pin"})]}):null]}),Object(r.jsx)(C,{children:t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(f.b,{to:"/profile",onClick:function(){return u("profile")},children:Object(r.jsx)(v,{style:"profile"===i?k:null,src:t.avatarUrl,width:"20",height:"20",alt:t.userName})}),Object(r.jsx)(y,{onClick:e,children:"logout"})]}):Object(r.jsx)(y,{onClick:function(){window.open("http://localhost:3001/api/login/getauthcode","_self")},children:"login"})})]})},_=e(4),L=e.n(_),N=e(10),F=e(14),U=e.n(F),z="http://localhost:3001",E=function(){var n=Object(N.a)(L.a.mark((function n(t,e,r,a){var i,c;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.post("".concat(z,"/api/pin"),{pinUrl:t,pinDesc:e,date:r,posterId:a});case 2:return i=n.sent,c=i.data,n.abrupt("return",c);case 5:case"end":return n.stop()}}),n)})));return function(t,e,r,a){return n.apply(this,arguments)}}(),D=function(){var n=Object(N.a)(L.a.mark((function n(){var t,e;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.get("".concat(z,"/api/pin"));case 2:return t=n.sent,e=t.data,n.abrupt("return",e);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),I=function(){var n=Object(N.a)(L.a.mark((function n(t){var e,r;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.get("".concat(z,"/api/pin/").concat(t));case 2:return e=n.sent,r=e.data,n.abrupt("return",r.pins);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),H=function(){var n=Object(N.a)(L.a.mark((function n(t,e){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.post("".concat(z,"/api/pin/likepin/").concat(e),{likerId:t});case 2:return r=n.sent,a=r.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),J=function(){var n=Object(N.a)(L.a.mark((function n(t,e){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.delete("".concat(z,"/api/pin"),{data:{ownerId:t,pinId:e}});case 2:return r=n.sent,a=r.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}();function A(){var n=Object(p.a)(["\n    width: 80%;\n    background-color: #e60023;\n    border:none;\n    border-radius: 5px;\n    color: white;\n    font-weight: bold;\n    font-family: Helvetica;\n    padding: 10px 0px;\n"]);return A=function(){return n},n}function B(){var n=Object(p.a)(["\n    width: 80%;\n    border:none;\n    border-bottom: 2px solid #c6c6c6;\n"]);return B=function(){return n},n}function M(){var n=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    background-color: white;\n    margin-top: 0px;\n    align-items: center;\n    width: 25%;\n    height: 40%;\n    border-radius: 20px;\n    @media (max-width: 768px) {\n        width: 90%;\n      }\n"]);return M=function(){return n},n}function R(){var n=Object(p.a)(["\n    background-color: #efefef;\n    position: fixed;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    "]);return R=function(){return n},n}var q=d.a.div(R()),G=d.a.form(M()),K=d.a.input(B()),Q=d.a.button(A()),T=function(n){var t=n.user,e=n.handlePostPin,i=n.setShowForm,c=Object(a.useState)(""),u=Object(o.a)(c,2),s=u[0],p=u[1],f=Object(a.useState)(""),d=Object(o.a)(f,2),l=d[0],b=d[1],j=function(){var n=Object(N.a)(L.a.mark((function n(r){var a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),p(""),b(""),i(!1),n.next=6,E(s,l,new Date,t._id);case 6:a=n.sent,e(a);case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return Object(r.jsx)(q,{children:Object(r.jsxs)(G,{onSubmit:j,children:[Object(r.jsx)(Q,{type:"submit",children:"Save"}),Object(r.jsx)(K,{placeholder:"Pin Url...",value:s,onChange:function(n){var t=n.target;return p(t.value)}}),Object(r.jsx)(K,{placeholder:"Pin Description",value:l,onChange:function(n){var t=n.target;return b(t.value)}})]})})};function V(){var n=Object(p.a)(["\n    background-color: white;\n    border-bottom-left-radius: 20px;\n    border-bottom-right-radius: 20px;\n    margin: 3px;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: center;\n    padding: 4px 0px;\n"]);return V=function(){return n},n}function W(){var n=Object(p.a)(["\n    margin-top: 3px;\n    border-top-left-radius: 20px;\n    border-top-right-radius: 20px;\n"]);return W=function(){return n},n}function X(){var n=Object(p.a)(["\n    background-color: white;\n    text-align: center;\n    font-size: 13px;\n    margin: 0px 3px;\n"]);return X=function(){return n},n}function Y(){var n=Object(p.a)(["\n    font-size: 10px;\n"]);return Y=function(){return n},n}function Z(){var n=Object(p.a)(["\n    border-radius: 20px;\n    background-color: #efefef;\n    width: 187px;\n    margin-top: 20px;\n    text-align: center;\n    padding-bottom: 1px;\n    box-shadow: 0px 2px 17px -13px black;\n    -webkit-animation: fadein 1s; \n    -moz-animation: fadein 1s; \n     -ms-animation: fadein 1s; \n      -o-animation: fadein 1s; \n         animation: fadein 1s;\n         @keyframes fadein {\n            from { opacity: 0; }\n            to   { opacity: 1; }\n        }\n        @-moz-keyframes fadein {\n            from { opacity: 0; }\n            to   { opacity: 1; }\n        }\n        @-webkit-keyframes fadein {\n            from { opacity: 0; }\n            to   { opacity: 1; }\n        }\n        @-ms-keyframes fadein {\n            from { opacity: 0; }\n            to   { opacity: 1; }\n        }\n        @-o-keyframes fadein {\n            from { opacity: 0; }\n            to   { opacity: 1; }\n        }\n"]);return Z=function(){return n},n}var $=d.a.div(Z()),nn=d.a.i(Y()),tn=d.a.p(X()),en=d.a.img(W()),rn=d.a.div(V()),an=function(n){var t=n.user,e=n.page,a=n.handleLikePin,i=n.setUser,c=n.pin,o=c._id,u=c.likers,s=c.pinUrl,p=c.pinDesc,d=c.owner,l=function(){var n=Object(N.a)(L.a.mark((function n(){var e;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H(t._id,o);case 2:e=n.sent,a(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),b=function(){var n=Object(N.a)(L.a.mark((function n(){var e;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,J(t._id,o);case 2:e=n.sent,i(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(r.jsxs)($,{children:[Object(r.jsx)(en,{onError:function(n){var t=n.target;t.onerror=null,t.src="https://cdn.freecodecamp.org/demo-projects/images/placeholder.png"},src:s,width:"180",alt:p}),Object(r.jsx)(tn,{children:p}),Object(r.jsxs)(rn,{children:[Object(r.jsx)(f.b,{to:"/pin/".concat(d._id),children:Object(r.jsx)("img",{src:d.avatarUrl,width:"25",height:"25",alt:d.userName})}),"mypin"===e?Object(r.jsx)("button",{onClick:b,children:Object(r.jsx)(nn,{className:"fas fa-times"})}):null,Object(r.jsxs)("button",{onClick:l,disabled:!t,children:[Object(r.jsx)(nn,{className:"fas fa-star"})," ",u.length]})]})]})},cn=e(16),on=e.n(cn);function un(){var n=Object(p.a)(["\n    text-align: center;\n"]);return un=function(){return n},n}function sn(){var n=Object(p.a)(["\n    display: inline-block;\n    background-color: #ffffff;\n    width: 5px;\n    border-radius: 50%;\n    position: absolute;\n    top: 12.5px;\n    bottom: 12.5px;\n    left: 18px;\n    height: 5px;\n"]);return sn=function(){return n},n}function pn(){var n=Object(p.a)(["\n    display: inline-block;\n    background-color: #ffffff;\n    width: 5px;\n    height: 5px;\n    border-radius: 50%;\n    position: absolute;\n    top: 12.5px;\n    bottom: 12.5px;\n    left: 7px;\n"]);return pn=function(){return n},n}function fn(){var n=Object(p.a)(["\n    display: inline-block;\n    background-color: #ffffff;\n    width: 5px;\n    height: 5px;\n    border-radius: 50%;\n    position: absolute;\n    top: 18px;\n    left: 12.5px;\n    right: 12.5px;\n"]);return fn=function(){return n},n}function dn(){var n=Object(p.a)(["\n    display: inline-block;\n    background-color: #ffffff;\n    width: 5px;\n    height: 5px;\n    border-radius: 50%;\n    position: absolute;\n    top: 7px;\n    left: 12.5px;\n    right: 12.5px;\n"]);return dn=function(){return n},n}function ln(){var n=Object(p.a)(["\n    border-radius: 50%;\n    width: 30px;\n    height: 30px;\n    background-color: #767676;\n    position: relative;\n    margin: 40px auto;\n    animation: rotate 1s linear infinite;\n    -webkit-animation: rotate 1s linear infinite;\n    -moz-animation: rotate 1s linear infinite;\n    @keyframes rotate {100% {transform: rotate(360deg)}}\n    @-webkit-keyframes rotate {100% {-webkit-transform: rotate(360deg)}}\n    @-moz-keyframes rotate {100% {-moz-transform: rotate(360deg)}}\n"]);return ln=function(){return n},n}var bn=d.a.div(ln()),jn=d.a.div(dn()),hn=d.a.div(fn()),xn=d.a.div(pn()),mn=d.a.div(sn()),On=d.a.h2(un()),gn=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(bn,{children:[Object(r.jsx)(jn,{}),Object(r.jsx)(hn,{}),Object(r.jsx)(xn,{}),Object(r.jsx)(mn,{})]}),Object(r.jsx)(On,{children:"Fetching the data please wait"})]})},vn={default:5,1e3:4,900:3,600:2,400:1},kn=function(n){var t=n.pins,e=n.setPins,i=n.user,c=n.handleLikePin,u=Object(a.useState)(!1),s=Object(o.a)(u,2),p=s[0],f=s[1];return Object(a.useEffect)((function(){D().then((function(n){e(n),f(!0)}))}),[e]),t&&p?Object(r.jsx)(on.a,{breakpointCols:vn,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map((function(n){return Object(r.jsx)(an,{page:"home",handleLikePin:c,user:i,pin:n},n._id)}))}):Object(r.jsx)(gn,{})},wn={default:5,1e3:4,900:3,600:2,400:1},yn=function(n){var t=n.pins,e=n.setPins,i=n.user,c=n.handleLikePin,s=n.setUser,p=Object(u.f)().push,f=Object(a.useState)(!1),d=Object(o.a)(f,2),l=d[0],b=d[1];return Object(a.useEffect)((function(){i?I(i._id).then((function(n){e(n),b(!0)})):p("/")}),[e,i,p]),t&&l?Object(r.jsx)(on.a,{breakpointCols:wn,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map((function(n){return Object(r.jsx)(an,{setUser:s,page:"mypin",handleLikePin:c,pin:n,user:i},n._id)}))}):Object(r.jsx)(gn,{})};function Pn(){var n=Object(p.a)(["\n    font-weight: bold;\n"]);return Pn=function(){return n},n}function Cn(){var n=Object(p.a)(["\n    width: 50vw;\n    margin: 10px auto;\n    font-size: 14px;\n    color: #535353;\n"]);return Cn=function(){return n},n}function Sn(){var n=Object(p.a)(["\n    margin: 10px 0px;\n"]);return Sn=function(){return n},n}function _n(){var n=Object(p.a)(["\n    border-radius: 50%;\n"]);return _n=function(){return n},n}function Ln(){var n=Object(p.a)(["\n    text-align: center;\n    margin-top: 20px;\n"]);return Ln=function(){return n},n}var Nn=d.a.div(Ln()),Fn=d.a.img(_n()),Un=d.a.h1(Sn()),zn=d.a.p(Cn()),En=d.a.span(Pn()),Dn=function(n){var t=n.user,e=n.setPins,i=n.pins,c=Object(u.f)().push,s=Object(a.useState)(!1),p=Object(o.a)(s,2),f=p[0],d=p[1];if(Object(a.useEffect)((function(){t?I(t._id).then((function(n){e(n),d(!0)})):c("/")}),[e,t,c]),!t)return null;var l=t.avatarUrl,b=t.userName,j=t.bio;if(!f)return Object(r.jsx)(gn,{});var h=i.reduce((function(n,t){return n+t.likers.length}),0);return Object(r.jsxs)(Nn,{children:[Object(r.jsx)(Fn,{src:l,width:"150",height:"150",alt:"".concat(b,"'s avatar")}),Object(r.jsx)(Un,{children:b}),Object(r.jsxs)(zn,{children:["@",b," - ",j]}),Object(r.jsxs)(En,{children:[i.length," pins - ",h," likes"]})]})},In=function(){var n=Object(N.a)(L.a.mark((function n(t){var e,r;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.a.post("".concat(z,"/api/login/getuser"),{code:t});case 2:if(e=n.sent,!(r=e.data)){n.next=6;break}return n.abrupt("return",r);case 6:return n.abrupt("return",null);case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),Hn={default:5,1e3:4,900:3,600:2,400:1},Jn=function(n){var t=n.pins,e=n.setPins,i=n.user,c=n.handleLikePin,s=Object(u.h)().id,p=Object(u.f)().push,f=Object(a.useState)(!1),d=Object(o.a)(f,2),l=d[0],b=d[1];return Object(a.useEffect)((function(){I(s).then((function(n){e(n),b(!0)}))}),[s,e,p]),t&&l?Object(r.jsx)(on.a,{breakpointCols:Hn,className:"my-masonry-grid",columnClassName:"my-masonry-grid_column",children:t.map((function(n){return Object(r.jsx)(an,{page:"userpin",handleLikePin:c,user:i,pin:n},n._id)}))}):Object(r.jsx)(gn,{})},An=function(){var n=Object(a.useState)(null),t=Object(o.a)(n,2),e=t[0],i=t[1],c=Object(a.useState)(null),p=Object(o.a)(c,2),f=p[0],d=p[1],l=Object(a.useState)("home"),b=Object(o.a)(l,2),j=b[0],h=b[1],x=Object(a.useState)(!1),m=Object(o.a)(x,2),O=m[0],g=m[1],v=s(),k=Object(u.f)(),w=function(){g(!O)};Object(a.useEffect)((function(){In(v.get("code")).then((function(n){i(n),g(!1)})),k.push("/")}),[]);var y=function(n){d(f.map((function(t){return t._id===n._id?n:t})))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(S,{setShowForm:g,page:j,setPage:h,toggleForm:w,handleLogout:function(){k.push("/"),i(null),h("home"),O&&w()},user:e}),O?Object(r.jsx)(T,{setShowForm:g,handlePostPin:function(n){d(f.concat(n))},user:e,setPins:d,pins:f}):null,Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:"/profile",children:Object(r.jsx)(Dn,{user:e,setPins:d,pins:f})}),Object(r.jsx)(u.a,{path:"/pin/:id",children:Object(r.jsx)(Jn,{pins:f,setPins:d,user:e,handleLikePin:y})}),Object(r.jsx)(u.a,{path:"/mypin",children:Object(r.jsx)(yn,{setUser:i,pins:f,setPins:d,user:e,handleLikePin:y})}),Object(r.jsx)(u.a,{path:"/",children:Object(r.jsx)(kn,{pins:f,setPins:d,user:e,handleLikePin:y})})]})]})};c.a.render(Object(r.jsx)(f.a,{children:Object(r.jsx)(An,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.8305f8a6.chunk.js.map